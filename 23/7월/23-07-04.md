## Socket 통신

### TCP/IP 프로토콜

- 두 시스템 간에 데이터가 손상 없이 안전하게 전송되도록 하는 통신 프로토콜
- 연결형 통신
    - 한번 연결 후 계속 데이터 전송 가능

### IP 주소

- 네트워크 상에서 유일하게 식별될 수 있는 컴퓨터 주소

### 포트

- 통신하는 프로그램이나 네트워크 간에 가상의 연결 통로
- 응용프로그램은 하나 이상의 포트를 생성할 수 있고, 포트를 통해서 통신

### 소켓

- TCP/IP 프로토콜을 이용해서 쉽게 통신 프로그램을 만들 수 있도록 지원하는 기반 기술
- 소켓끼리 데이터를 주고 받으며, 특정 IP 포트 번호와 결합

### 소켓을 이용한 통신 프로그램의 구조

![Socket](https://github.com/boseungk/TIL/assets/95980754/ed84bc3a-50e0-42f7-9dab-33d6e47d6c11)

1. ServerSocket는 특정 포트에서 대기하며 연결 수신 준비
    - 별도의 스레드에서 연결 요청을 기다리는 listener
2. ServerSocket의 listener가 다른 소켓의 요청을 `accpet()` 후 새로운 소켓 생성 후 두 소켓 연결
3. 두 소켓은 포트를 통해 통신을 주고 받으며, 소켓 스트림을 이용하여 데이터 입출력
4. `flush()`를 통해 스트림 속 데이터를 전송
5. 통신이 끝나면 `close()`로 소켓을 닫고 연결 종료

## URI 설계

URI 설계의 핵심은 **리소스 식별**

ex) /members

→ 회원이라는 리소스만 식별하기 때문에 회원 리소스를 URI에 매핑

**올바른 매핑**

- 회원 목록 조회 /members
- 회원 조회 /members/{id}
- 회원 등록 /members/{id}
- 회원 수정 /members/{id}
- 회원 삭제 /members/{id}

**올바르지 않은 매핑**

- 회원 목록 조회 /read-member-list
- 회원 조회 /read-member-by-id
- 회원 등록 /create-member
- 회원 수정 /update-member
- 회원 삭제 /delete-member

하지만 /members 만으로는 구분할 수 없기 때문에 **리소스**와 **행위**를 구분

행위는 HTTP 메서드로 구분됨

## HTTP 메서드

- GET: 리소스 조회
- POST: 요청 데이터 처리, 주로 등록에 사용
- PUT: 리소스를 대체, 해당 리소스가 없으면 생성
- PATCH: 리소스 부분 변경
- DELETE: 리소스 삭제

### GET

- 리소스 조회
- 서버에 전달하고 싶은 데이터는 query를 통해서 전달

### Post

- 요청 데이터 처리
- 메시지 바디를 통해 서버로 요청 데이터 전달
- 주로 전달된 데이터로 신규 리소스 등록, 프로세스 처리(단순히 값 변경을 넘어 프로세스의 상태가 변경되는 경우)에 사용

### Put

- 리소스를 대체
- **클라이언트가 리소스를 식별**
    - 클라이언트가 리소스의 위치를 알고 URI 지정
    - Post와 차이점

### Patch

- 리소스 부분 변경

### Delete

- 리소스 제거