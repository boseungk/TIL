## 에러 코드 의미

400 - Bad request. 클라이언트의 잘못된 요청으로 오류 발생

401 - Unauthorized. 클라이언트의 인증 실패

403 - Forbidden. 접근이 거부된 페이지 접속

404 - Not found. 페이지를 찾을 수 없음

## 단위 테스트

단위 테스트 코드를 보다가 갑자기 단위 테스트를 왜 짜야 하는지 궁금해졌다.

‘그냥 Postman으로도 전부 테스트 해볼 수 있을 것 같은데, 왜 테스트 코드를 짜는걸까?’

그 이유는 간단한 프로젝트와는 달리 실무에서는 여러 컴포넌트들이 복잡하게 연결되어있고, 이것들을 전부 연결시켜서 테스트하는 것은 비효율적이기 때문이다.

실제로 테스트 도중 어디서 문제가 생겼는지 추적하는 것도 쉬운 일이 아닐 것이다.

그렇기 때문에 **단위 테스트로 해당 부분만 독립적으로 테스트 한다면 어디서 문제가 생겼는지 빠르게 확인할 수 있을 것**이다.

하지만 단위 테스트는 해당 모듈에 대한 독립적인 테스트이기 때문에 다른 컴포넌트에 의존할 때, 문제가 생긴다. 

그래서 의존하는 컴포넌트 대신 가짜 객체를 만들어서 정해진 결과를 반환하도록 해야 하는데, 이것을 stub이라고 한다.

### Mockito

Mockito는 개발자가 동작을 직접 제어할 수 있는 가짜 객체를 지원하는 테스트 프레임워크이다. 

위에서 언급했던 것처럼 단위 테스트를 진행하다 보면 컴포넌트 간의 의존성이 존재하는 경우가 많다.

이런 의존성 문제를 해결하기 위해서 가짜 객체를 주입 시켜주는 Mockito를 이용하면 된다. 

Mockito를 활용해서 가짜 객체에 원하는 결과를 stub하여 단위 테스트를 진행하면 된다. 

Mockito에서 가짜 객체의 의존성 주입을 위해 3가지 어노테이션이 사용된다.

- @Mock
    - 가짜 객체를 만들어 반환해주는 어노테이션
- @Spy
    - stub하지 않은 메소드들을 원본 메서드 그대로 사용하는 어노테이션
- @InjectMocks
    - @Mock이나 @Spy로 생성된 가짜 객체를 자동으로 주입시켜주는 어노테이션

stub으로 결과 처리하는 방법은 다음과 같다.

- doReturn()
    - 가짜 객체가 특정한 값을 반환해야 하는 경우
- doNothing()
    - 가짜 객체가 아무런 값도 반환하지 않는 경우
- doThrow()
    - 가짜 객체가 예외를 발생 시키는 경우

## Relation Link

- [JUnit과 Mockito 기반의 Spring 단위 테스트 코드 작성법](https://mangkyu.tistory.com/145)