## 도커와 쿠버네티스

### 컨테이너란?

하나의 호스트에서 컨테이너 이미지를 각각 격리된 별도의 프로세스로 실행시켜주는 경량 가상화 기술

- 가상머신 위에서 실행 되는게 아니라 별도의 프로세스로 실행되기 때문에 오버헤드가 거의 없음

운영체제로 보면 **컨테이너 이미지는 실행 파일이고 컨테이너는 프로세스**이다.

리눅스 커널은 

1. cgroups를 통해 프로세스 자원 할당 관리(CPU, 메모리 등)
2. namespace를 통해 장치 격리해서 관리(네트워크, 파일 시스템 등)

### 도커란?

Linux, MacOS, Windows에서 동일한 방법으로 컨테이너를 실행시키고 관리할 수 있는 방법을 제공

- 도커 파일(Dockerfile): 컨테이너 이미지를 자동으로 빌드할 수 있도록 도와주는 스크립트
- 도커 허브(Docker Hub): 컨테이너 이미지를 저장하는 깃헙과 같은 컨테이너의 공개 저장소의 역할

### 쿠버네티스란?

서버 수가 적다면 도커만으로 충분하지만, 관리해야 할 서버가 매우 많을 때, 사용하는 컨테이너 오케스트레이터 

![쿠버네티스 아키텍처](https://github.com/boseungk/TIL/assets/95980754/4914e348-8128-4a33-99da-4cfd9ecd093b)

- 쿠버네티스의 아키텍처 : **Master & Slave 아키텍처**
    - Master node의 경우 보통 장애를 예방하기 위해 3~5대로 운영
    - kube-apiserver : 모든 요청을 받고, etcd에 저장
    - etcd : 모든 오브젝트의 상태를 저장하는 key/value 저장소로, 분산된 etcd 간의 데이터가 실시간으로 동기화 됨(DB와 같은 역할)