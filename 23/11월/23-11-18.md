## 컴퓨터 네트워크 3장 연습문제 풀이

34. 
    SendBase – 1은 송신자가 올바르게 전달되었다고 알고 있는 가장 마지막 순서 번호이다. LastByteRcvd는 송신자가 SendBase – 1 값을 받기 전에 더 증가했을 수도 있으므로 SendBase – 1 <= LastByteRcvd이다.

35.
    송신자가 y 값을 받는다면 송신자는 수신자가 y – 1까지 값들을 전부 처리했다는 것을 알 수 있다. 즉 SendBase와 비슷하게 y – 1 <= LastByteRcvd 관계를 가지게 된다.

40.
    a. slowstrat는 1~6 이랑 23~26에서 일어난다.

    b. TCP 혼잡 회피는 6~16이랑 17~22에서 일어난다.

    c. 16번째 전송 라운드에서 세그먼트 손실 감지는 3개의 중복 ACK에 의한 것이다. 왜냐하면 타임아웃에 의해 세그먼트 손실 감지가 발생했다면 Window 사이즈가 1이 되었을 것이기 때문이다.

    d. 22번째 전송 라운드에서 Window 사이즈가 1이 되었기 때문에 타임아웃에 의해 세그먼트 손실 감지가 이뤄졌다.

    e. window 사이즈가 32일 때 기울기가 변했으므로 ssthresh 값은 32이다.

    f. ssthresh는 혼잡 회피가 발생했을 때, 그 window 사이즈의 절반 값으로 바뀌므로 42 / 2 = 21이다.

    g. 첫 번째 전송 라운드에서 window 사이즈는 1이고, 다음 전송 라운드에서는 2, 4, 8로 증가하다가 6번째 전송 라운드에서 32까지 증가한다. 여기까지 window 사이즈를 전부 더하면 2^6 – 1 = 63이다. 그리고 7번째 전송 라운드에서 window 사이즈가 33이 되므로 70번째 세그먼트를 보낸 전송 라운드는 7번째 전송 라운드가 된다.

    h. 3개의 중복 Ack 수신에 의해 26번째 라운드 이후 패킷 손실이 감지되었다면 26번째 라운드에서 window 사이즈가 8이었으므로 threhold는 그 절반인 4이고, congestion window 사이즈는 +3을 더한 7이 된다.

    i. 
    TCP 타호는 ssthresh가 3개의 중복 ACK를 감지한 window의 절반이므로 18이고, 윈도우 사이즈의 크기는 1이된다.

44.
    a. 처음 RTT가 6MSS이고, ACK 다발을 받을 때마다 1MSS씩 증가하므로, 12MSS까지 증가하는데 걸리는 시간은 6RTT이다.

    b. 처음 RTT가 6MSS이고, 두 번째 RTT는 7MSS ... 6번째 RTT는 11MSS이다. 따라서 6+7+8+9+10+11 = 51MSS이고 51MSS / 6RTT = 8.5 MSS/RTT이다.

48.
    a. window의 최대 크기를 w라고 할 때, 54 * 10^6 = w * 536 * 8 / 0.06 이고 따라서 w = 756

    b. Reno 방식이므로 w/2 ~ w 이다. 이때 평균 윈도우 크기는 0.75w = 567이다. 또한 평균 처리율은 567 * 536 * 8 / 0.06 = 40.5Mbps이다.
    
    c. 1RTT씩 증가하므로 756 / 2 = 378개에서 756으로 다시 증가하는데 (756 – 378) * 0.06 = 22.68초가 걸린다.