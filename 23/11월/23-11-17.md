## 컴퓨터 네트워크 3장 연습 문제 풀이


26. 
    a. TCP 순서 번호는 4 바이트 이므로 TCP 순서 번호가 소진되지 않는 최댓값 L은 2^32 = 4,294,967,296이다.
    b. MSS는 536바이트이므로, 한 세그먼트의 크기는 536 바이트이다. 따라서 2^32 / 536 = 8,012,999 개다. 이때 트랜스포트, 네트워크, 데이터 링크 헤더들의 총 길이가 66바이트이므로 8,012,999 * 66 = 528,857,913 바이트가 추가된다. 따라서 2^32 + 528,857,913 = 4,823,825,209 = 4823 MB이다. 이때 155Mbps(비트 전송율)로 전달되므로 4823 * 8 / 155 = 249초가 걸린다.

28.
    호스트 A는 1Gbps 속도로 보낼 수 있고, 호스트 B는 600Mbps로 자신의 수신 버퍼에서 읽어낼 수 있으므로 수신 버퍼에 400Mbps 속도로 데이터가 쌓이게 된다. 만약 수신 버퍼가 다 차게 되면 호스트 B는 호스트 A에게 RcvWindow = 0으로 신호를 보냄으로써 Stop 신호를 보내게 된다. 호스트 A는 RcvWindow > 0이 되면 다시 데이터를 보내게 되고, 이 과정을 데이터를 다 보내기 전까지 반복하게 된다.

29. 
    a. 서버는 SYN Flood 공격을 피하기 위해 임의의 초기 순서 번호를 사용한다.

    b. 먼저 반 개방 연결은 완전 개방 연결 전에는 이뤄지지 않는다. 그리고 완전 개방 연결을 위해서 공격자는 원본 IP에 해당하는 특별한 순서 번호를 알아야 하는데, 공격자는 이 순서 번호를 알아낼 수 없기 때문에 완전 개방 연결을 할 수 없다.
    c. 공격자는 초기 순서 번호를 서버에게 보내는 것으로 완전 개방 연결을 하는 것은 불가능하다. 왜냐하면 서버는 초기 순서 번호에 타임 스탬프를 통해 유효 시간을 계산하기 때문에 유효 시간이 만료되면 해당 초기 순서 번호를 버리기 때문에 완전 개방 연결하는 것은 불가능하다.

31. 
    SampleRTT가 112ms 일 때, EstimatedRTT는 0.875 * 120 + 0.125 * 112 = 119이다. 또한 DevRTT는 0.75 * 6 + 0.25 * (120 – 112) = 6.5이다.
    TimeoutInterval = 119 + 4 * 6.5 = 145
    SampleRTT가 140ms 일 때, EstimatedRTT는 0.875 * 119 + 0.125 * 140 = 121.6이다. 또한 DevRTT는 0.75 * 6.5 + 0.25 * (140 – 119) = 10.125이다.
    TimeoutInterval = 121.6 + 4 * 10.125 = 162.1
    SampleRTT가 110ms 일 때, EstimatedRTT는 0.875 * 121.6 + 0.125 * 110 = 120.15이다. 또한 DevRTT는 0.75 * 10.125 + 0.25 * (121.6 – 110) = 10.5이다.
    TimeoutInterval = 120.15 + 10.5 * 4 = 162.15
    SampleRTT가 90ms 일 때, EstimatedRTT는 0.875 * 120.15 + 0.125 * 90 = 116.38이다.
    또한 DevRTT는 0.75 * 10.5 + 0.25 * (120.15 – 90) = 15.41이다.
    TimeoutInterval = 116.38 + 15.41 * 4 = 178.02
    SampleRTT가 90ms 일 때, EstimatedRTT는 0.875 * 116.38 + 0.125 * 90 = 113.1이다.
    또한 DevRTT는 0.75 * 15.41 + 0.25 * (116.38 – 90) = 18.15이다.
    TimeoutInterval = 113.1 + 18.15 * 4 = 185.7

33.
    재전송된 세그먼트의 예시는 이런 상황이 있을 수 있다. 예를 들어 클라이언트에서 패킷 1을 전송하고 패킷 1의 타이머가 완료되어 동일한 패킷 2를 전송한다고 가정해보자. 이때 패킷 2에 대한 SampleRTT를 측정한다. 그 후 Ack가 도착했다면 이것은 처음 패킷 1에 대한 Ack이지만 패킷 2에 대한 Ack라고 받아들여서 잘못된 SampleRTT를 계산할 수 있다.