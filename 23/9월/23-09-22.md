## 도커

### 볼륨 마운트

볼륨을 간단하게 말하면 스토리지, 즉 저장 장소의 한 영역을 분할한 것을 말한다.

마운트는 연결한다라는 의미 그대로 대상을 연결해서 운영체제나 소프트웨어 간의 연결을 의미한다.

도커에서는 컨테이너의 성격상 '쓰고 버려야'하기 때문에 언젠가는 삭제되기 마련이다.

이런 상황에서 컨테이너 속에 데이터를 저장해둔다면 데이터도 함께 소멸된다. 

따라서 컨테이너 외부에 둔 데이터에 접근해서 사용하는 것이 일반적이다.

이때 데이터를 두는 장소가 바로 **마운트된 스토리지 영역**이다.

### 스토리지 종류

스토리지는 두 가지 종류가 있다.

하나는 볼륨 마운트이고 다른 하나는 바인드 마운트이다.

볼륨 마운트의 큰 특징은 볼륨 마운트가 도커 엔전의 관리 하에 있다는 점이다.

따라서 컨테이너를 경유해서 볼륨에 접근해야 한다.

다만 바인드 마운트에 비해 직접 조작하기 어렵기 때문에 임시 목적으로 사용하거나 자주 쓰지 않는 파일을 두는 목적으로 사용한다.

바인드 마운트는 기존과 동일한 방식으로 파일을 사용할 수 있다는 점이 가장 큰 특징이다.

예를 들어서 윈도우에서 파일을 조작하면 바로 도커의 파일에 반영 되는 것이다.

이를테면 바탕화면의 단축 아이콘과 유사하다. 실제 실행되는 프로그램은 별도의 다른 장소에 있지만 마치 컨테이너 안에 있는 것처럼 설정되는 것이다.

### 바인드 마운트 예시

먼저 바인드 마운트를 하는 예시를 살펴보자.

apa_folder라는 이름으로 마운트 원본이 될 폴더/디렉터리를 생성하자.

윈도우로 예를 들면 문서 폴더 아래에 apa_folder라는 이름으로 폴더를 생성하는 것이다.

그 후 도커에서 `docker run --name apa000ex20 -d -p 8090:80 -v C:\Users\사용자명\Documents\apa_folder:/usr/local/apache2/htdocs httpd`를 입력한다.

`--name`은 컨테이너의 이름을 지어주는 옵션이고, `-d` 옵션은 백그라운드 실행, `-p`는 포트를 연결, `-v`는 볼륨을 마운트해주는 옵션이다.

이후 apa_folder 폴더에 index.html같은 파일을 넣는다면 실제 아파치 서버에 반영된다는 것을 알 수 있다.
